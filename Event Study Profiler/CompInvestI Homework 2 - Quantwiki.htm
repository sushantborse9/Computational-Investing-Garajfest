<!DOCTYPE html>
<html dir="ltr" class="client-nojs" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- base href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2" --><style type="text/css">body { margin-left:0;margin-right:0;margin-top:0; }#google-cache-hdr {background:#f5f5f5 !important;font:13px arial,sans-serif !important;text-align:left !important;color:#202020 !important;border:0 !important;margin:0 !important;border-bottom:1px solid #cecece !important;line-height:16px !important ;padding:16px 28px 24px 28px !important;}#google-cache-hdr * {display:inline !important;font:inherit !important;text-align:inherit !important;color:inherit !important;line-height:inherit !important;background:none !important;border:0 !important;margin:0 !important;padding:0 !important;letter-spacing:0 !important;}#google-cache-hdr a {text-decoration:none !important;color:#1a0dab !important;}#google-cache-hdr a:hover { text-decoration:underline !important; }#google-cache-hdr a:visited { color:#609 !important; }#google-cache-hdr div { display:block !important;margin-top:4px !important; }#google-cache-hdr b {font-weight:bold !important;display:inline-block !important;direction:ltr !important;}</style></head><body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-CompInvestI_Homework_2 skin-monobook action-view"><div id="google-cache-hdr" dir="ltr"><div>This is Google's cache of <a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2" dir="ltr">http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2</a>. It is a snapshot of the page as it appeared on 23 Oct 2015 15:12:59 GMT. </div><div>The <a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2" dir="ltr">current page</a> could have changed in the meantime. <a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222">Learn more</a></div><div></div><div><span style="display:inline-block !important;margin-top:8px !important;margin-right:104px !important;white-space:nowrap !important;"><span style="margin-right:28px !important;"><span style="font-weight:bold !important;">Full version</span></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:XV7SmEcW-7oJ:wiki.quantsoftware.org/index.php%3Ftitle%3DCompInvestI_Homework_2&amp;hl=en&amp;gl=in&amp;strip=1&amp;vwsrc=0">Text-only version</a></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:XV7SmEcW-7oJ:wiki.quantsoftware.org/index.php%3Ftitle%3DCompInvestI_Homework_2&amp;hl=en&amp;gl=in&amp;strip=0&amp;vwsrc=1">View source</a></span></span><span style="display:inline-block !important;margin-top:8px !important;color:#717171 !important;">Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>⌘-F</b> (Mac) and use the find bar.</span></div></div><div style="position:relative;">



<title>CompInvestI Homework 2 - Quantwiki</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.19.11">
<link rel="shortcut icon" href="http://wiki.quantsoftware.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.quantsoftware.org/opensearch_desc.php" title="Quantwiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.quantsoftware.org/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Quantwiki Atom feed" href="http://wiki.quantsoftware.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="CompInvestI%20Homework%202%20-%20Quantwiki_files/load_002.htm">
<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: wiki_quantsoftware_org-92815_:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="CompInvestI%20Homework%202%20-%20Quantwiki_files/load.htm"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"CompInvestI_Homework_2","wgTitle":"CompInvestI Homework 2","wgCurRevisionId":3172,"wgArticleId":192,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"CompInvestI_Homework_2","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":
0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: wiki_quantsoftware_org-92815_:resourceloader:filter:minify-js:7:74a832f2292f1f4d40d425d223444e78 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>


<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">CompInvestI Homework 2</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From Quantwiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#To_do"><span class="tocnumber">2</span> <span class="toctext">To do</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Example_output"><span class="tocnumber">3</span> <span class="toctext">Example output</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Implementation_suggestions_.26_assumptions"><span class="tocnumber">4</span> <span class="toctext">Implementation suggestions &amp; assumptions</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#What_to_expect_when_you_turn_in_your_assignment_.28Coursera.29"><span class="tocnumber">5</span> <span class="toctext">What to expect when you turn in your assignment (Coursera)</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Deliverables_for_on_campus_GT_students"><span class="tocnumber">6</span> <span class="toctext">Deliverables for on campus GT students</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Extra_challenges"><span class="tocnumber">7</span> <span class="toctext">Extra challenges</span></a></li>
</ul>
</td></tr></tbody></table>
<h2> <span class="mw-headline" id="Overview">Overview</span></h2>
<p>The purpose of this assignment is to introduce you to 
</p>
<ul><li>Event studies based on historical information.
</li><li>Reading in and processing different types of historical data.
</li><li>Assessing the results of an event study.
</li></ul>
<p>In this homework you will conduct "event studies" to assess the 
impact of stock price events (information) on future prices. We will use
 the Event Profiler that is distributed with QSTK.  You can learn about 
the Event Profiler here:  <a href="http://wiki.quantsoftware.org/index.php?title=QSTK_Tutorial_9" title="QSTK Tutorial 9">QSTK_Tutorial_9</a>. 
</p>
<h2> <span class="mw-headline" id="To_do">To do</span></h2>
<p>There are four major parts to the project:
</p><p><b>Part 1:</b> Review and understand  <a href="http://wiki.quantsoftware.org/index.php?title=QSTK_Tutorial_9" title="QSTK Tutorial 9">QSTK_Tutorial_9</a>.
</p><p><b>Part 2:</b> Create an event study profile of a specific 
"known" event on S&amp;P 500 stocks, and compare its impact on two 
groups of stocks.
</p><p>The event is defined as when the <i>actual close</i> of the stock price drops below $5.00, more specifically, when:
</p>
<ul><li> price[t-1] &gt;= 5.0
</li><li> price[t] &lt; 5.0
</li></ul>
<p>an event has occurred on date t. Note that just because the price is 
below 5 it is not an event for every day that it is below 5, only on the
 day it first drops below 5.
</p><p>Evaluate this event for the time period January 1, 2008 to 
December 31, 2009. Compare the results using two lists of S&amp;P 500 
stocks: A) The stocks that were in the S&amp;P 500 in 2008 
(sp5002008.txt), and B) the stocks that were in the S&amp;P 500 in 2012 
(sp5002012.txt).  These equity lists are in the directory 
QSData/Yahoo/Lists.  You can read them in using the QSTK call 
</p>
<pre>dataobj = da.DataAccess('Yahoo')
symbols = dataobj.get_symbols_from_list("sp5002008")
symbols.append('SPY')
</pre>
<p>If the performance of the event seems to depend on which list of 
equities you use, please consider why that is. We will talk about it "in
 class (videos)."
</p><p><br>
<b>IMPORTANT&nbsp;: </b> It it always important to remove NAN from price
 data, specially for the S&amp;P 500 from 2008. Use the code below after
 reading the data to get the correct results.
</p>
<pre>    for s_key in ls_keys:
        d_data[s_key] = d_data[s_key].fillna(method = 'ffill')
        d_data[s_key] = d_data[s_key].fillna(method = 'bfill')
        d_data[s_key] = d_data[s_key].fillna(1.0)
</pre>
<p><b>Part 3:</b> Create your own event and experiment with it using the Event Profiler.  Consider these questions:
</p>
<ul><li> Is it possible to make money using your event?  
</li><li> If it is possible, what investing strategy would you use?  
Think about details of entry (buy) and exit (sell), how many days would 
you hold?
</li><li> Is this a risky strategy?
</li><li> How much do you expect to make on each trade?
</li><li> How many times do you expect to be able to act on this opportunity each year?
</li><li> Is there some way to reduce the risk?
</li></ul>
<p><b>Part 4:</b> Make sure the output of your program matches the 
example outputs below.  If you have any questions, please do not 
hesitate to ask on the forums.
</p>
<h2> <span class="mw-headline" id="Example_output">Example output</span></h2>
<ul><li> For the $5.0 event with S&amp;P500 in 2012, we find <b>176</b> events. Date Range = 1st Jan,2008 to 31st Dec, 2009.
</li></ul>
<ul><li> For the $5.0 event with S&amp;P500 in 2008, we find <b>326</b> events. Date Range = 1st Jan,2008 to 31st Dec, 2009.
</li></ul>
<p>The PDF chart will report fewer events than you might count in your 
code because the events at the very beginning and end cannot be part of 
the results as there will be missing data.
</p>
<h2> <span class="mw-headline" id="Implementation_suggestions_.26_assumptions">Implementation suggestions &amp; assumptions</span></h2>
<p><b>IMPORTANT&nbsp;: </b> It it always important to remove NAN from 
price data, specially for the S&amp;P 500 from 2008. Use the code below 
after reading the data to get the correct results.
</p>
<pre>    for s_key in ls_keys:
        d_data[s_key] = d_data[s_key].fillna(method = 'ffill')
        d_data[s_key] = d_data[s_key].fillna(method = 'bfill')
        d_data[s_key] = d_data[s_key].fillna(1.0)
</pre>
<p>We will talk about other methods for "scrubbing" data later on in the course.
</p><p>The PDF chart will report fewer events than you might count in 
your code, because the events at the very beginning and end cannot be 
part of the results as there will be missing data.
</p>
<h2> <span class="mw-headline" id="What_to_expect_when_you_turn_in_your_assignment_.28Coursera.29">What to expect when you turn in your assignment (Coursera)</span></h2>
<p>For your evaluation on this project, you will take a "quiz" where we 
will ask you to run an Event Profile using parameters similar to Part 1 
above, but using different time periods or thresholds.  If you created 
the code properly for Part 1, this should be easy for you to do.  You 
will enter numerical answers to the questions.
</p><p>You will also be asked one or two questions about the difference 
between the event study results for the two different data sets.  Have 
both charts ready and be prepared to answer questions about them.
</p>
<h2> <span class="mw-headline" id="Deliverables_for_on_campus_GT_students">Deliverables for on campus GT students</span></h2>
<p><b>To do:</b>
</p>
<ol><li>Run your code for the $5 event on the two sets of stocks listed 
above (SP500 2008 and SP500 2012).  Include these two charts in your 
report.
</li><li>Create your own event and experiment with it using the Event 
Profiler.  Run that event on the SP500 2012 data and include it's chart 
in your report.
</li></ol>
<p><b>To turn in:</b>
</p>
<ul><li> The code for your event, in myevent.py
</li><li> A report, report.pdf that includes:
<ul><li> The 2 charts for the $5 event using 2008 and 2012 members of the S&amp;P 500.  Answer the following questions about them:
<ul><li> Consider the similarities and differences between the two 
charts.  In what ways are they different?  To what do you believe we 
could attribute the differences?
</li></ul>
</li><li> Include at least 1 chart illustrating "your event"
</li><li> Include a description and motivation for your event.
</li><li> Answer the following questions about your event:
<ul><li> Is it possible to make money using your event?  
</li><li> If it is possible, what investing strategy would you use?  
Think about details of entry (buy) and exit (sell), how many days would 
you hold?
</li><li> Is this a risky strategy?
</li><li> How much do you expect to make on each trade?
</li><li> How many times do you expect to be able to act on this opportunity each year?
</li><li> Is there some way to reduce the risk?
</li></ul>
</li></ul>
</li></ul>
<h2> <span class="mw-headline" id="Extra_challenges">Extra challenges</span></h2>
<p>If you felt that this assignment was "too easy" try these additional challenges. Sorry, but we don't offer extra credit:
</p>
<ul><li>For the time period listed above explore different price events.  Is there a particular price transition that seems "optimal?"
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 53/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki_quantsoftware_org-92815_:pcache:idhash:192-0!*!0!!en!*!* and timestamp 20151022203248 -->
</div><div class="printfooter">
Retrieved from "<a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;oldid=3172">http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;oldid=3172</a>"</div>
		<div id="catlinks" class="catlinks catlinks-allhidden"></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://wiki.quantsoftware.org/index.php?title=Talk:CompInvestI_Homework_2&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;action=edit" primary="1" title="This page is protected.
You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://wiki.quantsoftware.org/index.php?title=Special:UserLogin&amp;returnto=CompInvestI+Homework+2" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="http://wiki.quantsoftware.org/index.php?title=QuantSoftware_ToolKit" style="background-image: url(/images/stockmarket135.jpg);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage-description"><a href="http://wiki.quantsoftware.org/index.php?title=QuantSoftware_ToolKit" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-Computational-Investing-I"><a href="http://wiki.quantsoftware.org/index.php?title=Computational_Investing_I">Computational Investing I</a></li>
				<li id="n-Computational-Investing-II"><a href="http://wiki.quantsoftware.org/index.php?title=Computational_Investing_II">Computational Investing II</a></li>
				<li id="n-GT-CS-7646"><a href="http://wiki.quantsoftware.org/index.php?title=ML4Trading">GT CS 7646</a></li>
				<li id="n-QSTK"><a href="http://wiki.quantsoftware.org/index.php?title=QuantSoftware_ToolKit">QSTK</a></li>
				<li id="n-recentchanges"><a href="http://wiki.quantsoftware.org/index.php?title=Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-this-sidebar"><a href="http://wiki.quantsoftware.org/index.php?title=MediaWiki:Sidebar">this sidebar</a></li>
				<li id="n-help"><a href="http://wiki.quantsoftware.org/index.php?title=Help:Contents" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input name="search" title="Search Quantwiki [f]" accesskey="f" id="searchInput" type="search">
				<input name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" type="submit">&nbsp;
				<input name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" type="submit">
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Tools</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.quantsoftware.org/index.php?title=Special:WhatLinksHere/CompInvestI_Homework_2" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.quantsoftware.org/index.php?title=Special:RecentChangesLinked/CompInvestI_Homework_2" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="http://wiki.quantsoftware.org/index.php?title=Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li><a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;printable=yes" rel="alternate">Printable version</a></li>
				<li id="t-permalink"><a href="http://wiki.quantsoftware.org/index.php?title=CompInvestI_Homework_2&amp;oldid=3172" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="CompInvestI%20Homework%202%20-%20Quantwiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 15 October 2014, at 08:39.</li>
		<li id="viewcount">This page has been accessed 49,518 times.</li>
		<li id="privacy"><a href="http://wiki.quantsoftware.org/index.php?title=Quantwiki:Privacy_policy" title="Quantwiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="http://wiki.quantsoftware.org/index.php?title=Quantwiki:About" title="Quantwiki:About">About Quantwiki</a></li>
		<li id="disclaimer"><a href="http://wiki.quantsoftware.org/index.php?title=Quantwiki:General_disclaimer" title="Quantwiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script>
<!-- Served in 0.239 secs. --></div></body></html>